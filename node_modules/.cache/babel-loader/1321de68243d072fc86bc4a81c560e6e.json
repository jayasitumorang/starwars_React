{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jaya situmorang\\\\Pictures\\\\Star-Wars-main\\\\starwars_by_jaya\\\\src\\\\views\\\\Starships\\\\Starships.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect, useRef } from 'react';\nimport './Starships.css';\nimport List from \"../../components/List/List\";\nimport Button from '../../components/Button/Button';\nimport retrieveStarships from '../../logic/retrieve-starships';\nimport getData from '../../utils/getData';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Starships() {\n  _s();\n\n  const [starshipList, setStarshipsList] = useState([]);\n  const [page, setPage] = useState();\n  const sourceRef = useRef(axios.CancelToken.source());\n  useEffect(() => {\n    const source = sourceRef.current;\n\n    const getStarships = async () => {\n      const res = await retrieveStarships();\n      setStarshipsList(res.results);\n      setPage(res.next);\n    };\n\n    getStarships();\n    return () => {\n      if (source) source.cancel(\"Landing Component got unmounted\");\n      setStarshipsList([]);\n      setPage();\n    };\n  }, []);\n\n  const handleAddNaus = async () => {\n    if (page) {\n      const res = await getData(page);\n      setStarshipsList([...starshipList, ...res.results]);\n      setPage(res.next);\n    }\n  };\n\n  const handleScrollTop = () => {\n    window.scrollTo(0, 0);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: starshipList && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(List, {\n        list: starshipList,\n        page: 'starships'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 13\n      }, this), starshipList.length < 36 ? /*#__PURE__*/_jsxDEV(Button, {\n        open: handleAddNaus,\n        text: 'VIEW MORE',\n        name: 'view__button'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this) : /*#__PURE__*/_jsxDEV(Button, {\n        open: handleScrollTop,\n        text: 'BACK TO TOP',\n        name: 'view__button'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true)\n  }, void 0, false);\n}\n\n_s(Starships, \"FguCCq/GnVImKhowwdy0RJX695Y=\");\n\n_c = Starships;\n\nvar _c;\n\n$RefreshReg$(_c, \"Starships\");","map":{"version":3,"sources":["C:/Users/jaya situmorang/Pictures/Star-Wars-main/starwars_by_jaya/src/views/Starships/Starships.js"],"names":["useState","useEffect","useRef","List","Button","retrieveStarships","getData","axios","Starships","starshipList","setStarshipsList","page","setPage","sourceRef","CancelToken","source","current","getStarships","res","results","next","cancel","handleAddNaus","handleScrollTop","window","scrollTo","length"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,EAA8BC,MAA9B,QAA4C,OAA5C;AAEA,OAAO,iBAAP;AAEA,OAAOC,IAAP,MAAiB,4BAAjB;AACA,OAAOC,MAAP,MAAmB,gCAAnB;AAEA,OAAOC,iBAAP,MAA8B,gCAA9B;AACA,OAAOC,OAAP,MAAoB,qBAApB;AAEA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,eAAe,SAASC,SAAT,GAAsB;AAAA;;AACnC,QAAM,CAACC,YAAD,EAAeC,gBAAf,IAAmCV,QAAQ,CAAC,EAAD,CAAjD;AACA,QAAM,CAACW,IAAD,EAAOC,OAAP,IAAkBZ,QAAQ,EAAhC;AACA,QAAMa,SAAS,GAAGX,MAAM,CAACK,KAAK,CAACO,WAAN,CAAkBC,MAAlB,EAAD,CAAxB;AAEAd,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMc,MAAM,GAAGF,SAAS,CAACG,OAAzB;;AACA,UAAMC,YAAY,GAAG,YAAY;AAC/B,YAAMC,GAAG,GAAG,MAAMb,iBAAiB,EAAnC;AACAK,MAAAA,gBAAgB,CAACQ,GAAG,CAACC,OAAL,CAAhB;AACAP,MAAAA,OAAO,CAACM,GAAG,CAACE,IAAL,CAAP;AACD,KAJD;;AAKAH,IAAAA,YAAY;AAEZ,WAAO,MAAM;AACX,UAAIF,MAAJ,EAAYA,MAAM,CAACM,MAAP,CAAc,iCAAd;AACZX,MAAAA,gBAAgB,CAAC,EAAD,CAAhB;AACAE,MAAAA,OAAO;AACR,KAJD;AAKD,GAdQ,EAcN,EAdM,CAAT;;AAgBA,QAAMU,aAAa,GAAG,YAAY;AAChC,QAAIX,IAAJ,EAAU;AACR,YAAMO,GAAG,GAAG,MAAMZ,OAAO,CAACK,IAAD,CAAzB;AACAD,MAAAA,gBAAgB,CAAC,CAAC,GAAGD,YAAJ,EAAkB,GAAGS,GAAG,CAACC,OAAzB,CAAD,CAAhB;AACAP,MAAAA,OAAO,CAACM,GAAG,CAACE,IAAL,CAAP;AACD;AACF,GAND;;AAQA,QAAMG,eAAe,GAAG,MAAM;AAC5BC,IAAAA,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;AACD,GAFD;;AAIA,sBACE;AAAA,cAEIhB,YAAY,iBACV;AAAA,8BACE,QAAC,IAAD;AAAM,QAAA,IAAI,EAAEA,YAAZ;AAA0B,QAAA,IAAI,EAAE;AAAhC;AAAA;AAAA;AAAA;AAAA,cADF,EAGIA,YAAY,CAACiB,MAAb,GAAsB,EAAtB,gBACE,QAAC,MAAD;AAAQ,QAAA,IAAI,EAAEJ,aAAd;AAA6B,QAAA,IAAI,EAAE,WAAnC;AAAgD,QAAA,IAAI,EAAE;AAAtD;AAAA;AAAA;AAAA;AAAA,cADF,gBAGE,QAAC,MAAD;AAAQ,QAAA,IAAI,EAAEC,eAAd;AAA+B,QAAA,IAAI,EAAE,aAArC;AAAoD,QAAA,IAAI,EAAE;AAA1D;AAAA;AAAA;AAAA;AAAA,cANN;AAAA;AAHN,mBADF;AAmBD;;GApDuBf,S;;KAAAA,S","sourcesContent":["import { useState, useEffect, useRef } from 'react';\n\nimport './Starships.css'\n\nimport List from \"../../components/List/List\"\nimport Button from '../../components/Button/Button';\n\nimport retrieveStarships from '../../logic/retrieve-starships';\nimport getData from '../../utils/getData';\n\nimport axios from 'axios'\n\nexport default function Starships () {\n  const [starshipList, setStarshipsList] = useState([])\n  const [page, setPage] = useState()\n  const sourceRef = useRef(axios.CancelToken.source())\n\n  useEffect(() => {\n    const source = sourceRef.current\n    const getStarships = async () => {\n      const res = await retrieveStarships()\n      setStarshipsList(res.results)\n      setPage(res.next)\n    }\n    getStarships()\n\n    return () => {\n      if (source) source.cancel(\"Landing Component got unmounted\");\n      setStarshipsList([])\n      setPage()\n    }\n  }, [])\n\n  const handleAddNaus = async () => {\n    if (page) {\n      const res = await getData(page)\n      setStarshipsList([...starshipList, ...res.results])\n      setPage(res.next)\n    }\n  }\n\n  const handleScrollTop = () => {\n    window.scrollTo(0, 0)\n  }\n\n  return (\n    <>\n      {\n        starshipList && (\n          <>\n            <List list={starshipList} page={'starships'} />\n            {\n              starshipList.length < 36 ? (\n                <Button open={handleAddNaus} text={'VIEW MORE'} name={'view__button'} />\n              ) : (\n                <Button open={handleScrollTop} text={'BACK TO TOP'} name={'view__button'} />\n              )\n            }\n\n          </>\n        )\n      }\n    </>\n  )\n}"]},"metadata":{},"sourceType":"module"}