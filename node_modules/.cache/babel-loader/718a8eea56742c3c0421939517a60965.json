{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jaya situmorang\\\\Pictures\\\\Star-Wars-main\\\\starwars_by_jaya\\\\src\\\\views\\\\Actors\\\\Actors.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect, useRef } from 'react';\nimport './Actors.css';\nimport List from \"../../components/List/List\";\nimport Button from '../../components/Button/Button';\nimport retrieveActors from '../../logic/retrieve-actors';\nimport getData from '../../utils/getData';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Actors() {\n  _s();\n\n  const [actorsList, setActorsList] = useState([]);\n  const [page, setPage] = useState();\n  const sourceRef = useRef(axios.CancelToken.source());\n  useEffect(() => {\n    const source = sourceRef.current;\n\n    const getActors = async () => {\n      const res = await retrieveActors();\n      setActorsList(res.results);\n      setPage(res.next);\n    };\n\n    getActors();\n    return () => {\n      if (source) source.cancel(\"Landing Component got unmounted\");\n      setActorsList([]);\n      setPage();\n    };\n  }, []);\n\n  const handleAddActors = async () => {\n    if (page) {\n      const res = await getData(page);\n      setActorsList([...actorsList, ...res.results]);\n      setPage(res.next);\n    }\n  };\n\n  const handleScrollTop = () => {\n    window.scrollTo(0, 0);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: actorsList && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(List, {\n        list: actorsList,\n        page: 'actors'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 13\n      }, this), actorsList.length < 82 ? /*#__PURE__*/_jsxDEV(Button, {\n        open: handleAddActors,\n        text: 'VIEW MORE',\n        name: 'view__button'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this) : /*#__PURE__*/_jsxDEV(Button, {\n        open: handleScrollTop,\n        text: 'BACK TO TOP',\n        name: 'view__button'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true)\n  }, void 0, false);\n}\n\n_s(Actors, \"7NYkexHK5Ua9gfw3PMmHYsbENhU=\");\n\n_c = Actors;\n\nvar _c;\n\n$RefreshReg$(_c, \"Actors\");","map":{"version":3,"sources":["C:/Users/jaya situmorang/Pictures/Star-Wars-main/starwars_by_jaya/src/views/Actors/Actors.js"],"names":["useState","useEffect","useRef","List","Button","retrieveActors","getData","axios","Actors","actorsList","setActorsList","page","setPage","sourceRef","CancelToken","source","current","getActors","res","results","next","cancel","handleAddActors","handleScrollTop","window","scrollTo","length"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,SAAnB,EAA8BC,MAA9B,QAA4C,OAA5C;AAEA,OAAO,cAAP;AAEA,OAAOC,IAAP,MAAiB,4BAAjB;AACA,OAAOC,MAAP,MAAmB,gCAAnB;AAEA,OAAOC,cAAP,MAA2B,6BAA3B;AACA,OAAOC,OAAP,MAAoB,qBAApB;AAEA,OAAOC,KAAP,MAAkB,OAAlB;;;AAEA,eAAe,SAASC,MAAT,GAAmB;AAAA;;AAChC,QAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BV,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAACW,IAAD,EAAOC,OAAP,IAAkBZ,QAAQ,EAAhC;AAEA,QAAMa,SAAS,GAAGX,MAAM,CAACK,KAAK,CAACO,WAAN,CAAkBC,MAAlB,EAAD,CAAxB;AAEAd,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMc,MAAM,GAAGF,SAAS,CAACG,OAAzB;;AACA,UAAMC,SAAS,GAAG,YAAY;AAC5B,YAAMC,GAAG,GAAG,MAAMb,cAAc,EAAhC;AACAK,MAAAA,aAAa,CAACQ,GAAG,CAACC,OAAL,CAAb;AACAP,MAAAA,OAAO,CAACM,GAAG,CAACE,IAAL,CAAP;AACD,KAJD;;AAKAH,IAAAA,SAAS;AAET,WAAO,MAAM;AACX,UAAIF,MAAJ,EAAYA,MAAM,CAACM,MAAP,CAAc,iCAAd;AACZX,MAAAA,aAAa,CAAC,EAAD,CAAb;AACAE,MAAAA,OAAO;AACR,KAJD;AAKD,GAdQ,EAcN,EAdM,CAAT;;AAgBA,QAAMU,eAAe,GAAG,YAAY;AAClC,QAAIX,IAAJ,EAAU;AACR,YAAMO,GAAG,GAAG,MAAMZ,OAAO,CAACK,IAAD,CAAzB;AACAD,MAAAA,aAAa,CAAC,CAAC,GAAGD,UAAJ,EAAgB,GAAGS,GAAG,CAACC,OAAvB,CAAD,CAAb;AACAP,MAAAA,OAAO,CAACM,GAAG,CAACE,IAAL,CAAP;AACD;AACF,GAND;;AAQA,QAAMG,eAAe,GAAG,MAAM;AAC5BC,IAAAA,MAAM,CAACC,QAAP,CAAgB,CAAhB,EAAmB,CAAnB;AACD,GAFD;;AAIA,sBACE;AAAA,cAEIhB,UAAU,iBACR;AAAA,8BACE,QAAC,IAAD;AAAM,QAAA,IAAI,EAAEA,UAAZ;AAAwB,QAAA,IAAI,EAAE;AAA9B;AAAA;AAAA;AAAA;AAAA,cADF,EAGIA,UAAU,CAACiB,MAAX,GAAoB,EAApB,gBACE,QAAC,MAAD;AAAQ,QAAA,IAAI,EAAEJ,eAAd;AAA+B,QAAA,IAAI,EAAE,WAArC;AAAkD,QAAA,IAAI,EAAE;AAAxD;AAAA;AAAA;AAAA;AAAA,cADF,gBAGE,QAAC,MAAD;AAAQ,QAAA,IAAI,EAAEC,eAAd;AAA+B,QAAA,IAAI,EAAE,aAArC;AAAoD,QAAA,IAAI,EAAE;AAA1D;AAAA;AAAA;AAAA;AAAA,cANN;AAAA;AAHN,mBADF;AAkBD;;GApDuBf,M;;KAAAA,M","sourcesContent":["import { useState, useEffect, useRef } from 'react';\n\nimport './Actors.css'\n\nimport List from \"../../components/List/List\"\nimport Button from '../../components/Button/Button';\n\nimport retrieveActors from '../../logic/retrieve-actors'\nimport getData from '../../utils/getData';\n\nimport axios from 'axios'\n\nexport default function Actors () {\n  const [actorsList, setActorsList] = useState([])\n  const [page, setPage] = useState()\n\n  const sourceRef = useRef(axios.CancelToken.source())\n\n  useEffect(() => {\n    const source = sourceRef.current\n    const getActors = async () => {\n      const res = await retrieveActors()\n      setActorsList(res.results)\n      setPage(res.next)\n    }\n    getActors()\n\n    return () => {\n      if (source) source.cancel(\"Landing Component got unmounted\");\n      setActorsList([])\n      setPage()\n    }\n  }, [])\n\n  const handleAddActors = async () => {\n    if (page) {\n      const res = await getData(page)\n      setActorsList([...actorsList, ...res.results])\n      setPage(res.next)\n    }\n  }\n\n  const handleScrollTop = () => {\n    window.scrollTo(0, 0)\n  }\n\n  return (\n    <>\n      {\n        actorsList && (\n          <>\n            <List list={actorsList} page={'actors'} />\n            {\n              actorsList.length < 82 ? (\n                <Button open={handleAddActors} text={'VIEW MORE'} name={'view__button'} />\n              ) : (\n                <Button open={handleScrollTop} text={'BACK TO TOP'} name={'view__button'} />\n              )\n            }\n          </>\n        )\n      }\n    </>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}